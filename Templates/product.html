{% extends 'base.html' %}

{% block title %}products{% endblock %}

{% block content %}
{%load static %}
<head>
  <link rel="stylesheet" href="{% static 'css/product.css' %}">
</head>
<div class="container">
  <!-- Section 1: Header -->
  <div class="header-section">
      <h2 class="form-title">New Product</h2>
  </div>

  <!-- Section 2: Form Section -->
  <div class="form-section">
      {% comment %} <div class="form-container"> {% endcomment %}
          <div class="section 1">
              <div class="col-md-6">

                <form action="/new_product/" method="POST">
                    {% csrf_token %}
                
                   
                  <label for="productName" class="L1">Product Name</label><br>
                  <input type="text" class="L3" id="productName" placeholder="Enter Product Name"name="product_name" required>
              </div>
              <div class="col-md-6">
                  <label for="type" class="L1">Type</label><br>
                  <input type="text" class="L3" id="type" placeholder="Select a Type"name="type" required>
              </div>
          </div>
          <div class="section2">
              <div class="col-md-6">
                
                  <label for="price" class="L1">Price</label><br>
                  <input type="text" class="L2" id="price" placeholder="Enter Price"name="price" required>
               
              </div>
              <div class="col-md-6">
                  <label for="packages" class="L1">Packages</label><br>
                  <input type="text" class="L2" id="packages" placeholder="Select Your Packages"name="packages" required>
              </div>
          </div>
          <div class="button-group">
            
              <button type="submit" class="btn btn-save ">Save</button>
              <button type="reset" class="btn btn-reset">Reset</button>
          
            </div>
          </form>
  <!-- Display error/success messages -->
{% if messages %}
<ul>
  {% for message in messages %}
    <li class="alert alert-{{ message.tags }}">{{ message }}</li>
  {% endfor %}
</ul>
 {% endif %}
</div>

{% comment %} <!-- Table Section --> {% endcomment %}
<table class="table">
  <tr><th>SL No<th>Productname</th><th>Type</th><th>Price</th><th>Action</th></tr>
  {% for product in products %}
  <tr>
    <td>{{forloop.counter}}</td>
  <td>{{product.product_name}}</td>
  <td>{{product.type}}</td>
  <td>{{product.price}}</td>
  <td>
    <a href="{%url 'edit_product' product.id %}"class="btn1"> <img src="{% static 'images/edit (1) 2.png' %}" alt="Edit" style="width:24px; height:24px;">
    </a>
    <button onclick="confirmDelete('{{ product.product_name }}', '{{ product.id }}')" 
                                    class="btn1">
                                    <img src="{% static 'images/trash.png' %}" alt="delete" style="width:24px; height:24px;">
                            </button>
    <!-- <a href="{%url 'delete_product' product.id %}"class="btn1" onclick="confirmDelete('{{ product.product_name }}', '{{ product.id }}')><img src="{% static 'images/trash.png' %}" alt="delete" style="width:24px; height:24px;"></a> -->
  </td>
  
    </tr>
  {% endfor %} 
  
</table>
         
          
      
  </div>

</div>
<script>
  function confirmDelete(product_name,product_id) {
      if (confirm('Are you sure you want to delete ' + product_name + '?')) {
          window.location.href = "{% url 'delete_product' '0' %}".replace("0", product_id);
      }
  }
</script>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

  {% endblock %}


















